- name: Set up Python
  uses: actions/setup-python@v4
  with:
    python-version: "3.10"

- name: Install dependencies
  run: |
    pip install -e .
    pip install black isort pylint pytest "black[jupyter]"

# FIX: auto-format before checking
- name: Format code
  run: |
    black .
    isort .

# Optional: verify format
- name: Run black check
  run: black --check .

- name: Lint
  run: pylint bsort

- name: Run tests
  run: pytest -q

- name: Build Docker image
  run: docker build -t bsort:latest .
